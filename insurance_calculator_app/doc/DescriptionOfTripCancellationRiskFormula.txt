Расчет стоимости риска отмены поездки
факторы:

- Политика отмены/возврата бронирования:
  Условия бронирования и политики отмены отелей, авиакомпаний и других поставщиков услуг,
  могут повлиять на возможность отмены поездки и получение возмещения.
  Если есть возможность отменить бронирование за короткий срок
  до предполагаемой даты отъезда и получить полное возмещение,
  или при наличии возможности перенести бронирование на другую дату без
  дополнительных штрафов или с дополнительной платой,
  стоимость страховки отмены поездки может быть меньше.
  Если же предусматривает значительные штрафы или удержание определенной суммы при отмене,
  стоимость больше.

- Страны, которые клиент посещает:
  Отмена поездки возможна из-за политической или социальной нестабильности
  в стране или регионе, а также распространения заболеваний, ограничений въезда/выезда,
  карантинных мер, связанных с эпидемиологическими или пандемическими ситуациями в стране.

- Состояние здоровья: беременность, пребывание в больнице в тяжёлом состоянии членов семьи

- Длительность поездки: Чем длительнее поездка,
  тем больше вероятность возникновения непредвиденных проблем со здоровьем у клиента или у его близких родственников,
  которые могут потребовать отмены поездки.
  Возможны и другие семейные обязательства, требующие присутствия клиента.
  Длительные поездки увеличивают время, в течение которого такие события могут произойти.

- История предыдущих отмен или прерываний поездок: Большее количество предыдущих случаев отмены
  или прерывания поездок клиента указывают на большую вероятность, что это случится вновь.

- Тип поездки: деловые поездки, семейные отпуска или приключенческие туры.
  Как правило, вероятность отмены деловой поездки низкая
  (существует строгая политика компании, требующая от сотрудников соблюдения деловых планов)
  Риск отмены семейного отпуска выше
  (зависят от множества факторов, включая здоровье всех членов семьи)
  для приключенческого тура также высока вероятность отмены
  (экспедиции, путешествия на отдаленные острова,
  альпинизм и другие активные приключения требуют специальной организации,
  бронирования и подготовки, и могут быть подвержены внешним нестабильным факторам,
  таким как погода)

- Состояние документов на момент оформления страховки:
  если на данный момент клиенту не оформили/восстановили паспорт
  или не одобрили визу, вероятность отмены поездки выше

- Погодные условия: Отмена поездки возможна из-за экстремальных погодных условий,
  таких как ураганы, снежные бури или наводнения,
  которые могут повлиять на безопасность и осуществление поездки.

- Риски, связанные с активностями или спортом в жизни до поездки: Отмена поездки из-за участия
  в активных виде спорта или опасных мероприятий, таких как горные лыжи, дайвинг или альпинизм,
  которые могут повысить риск отмены поездки.

- Надёжность тур-агента

Формула расчёта премии для медицинского риска:
CostOfTraveling * CountryCoefficient * DayCountCoefficient * NumberOfTripsAlreadyCancelledCoefficient *
TypeOfTravelCoefficient * StatusOfDocumentsCoefficient * CancellationPolicyCoefficient *
AVERAGE (HealthStatusCoefficient * w1, WeatherConditionsCoefficient * w2,
ActiveSportsRiskCoefficient * w3, ReliabilityOfTravelAgentCoefficient * w4)

CostOfTraveling - стоимость поездки

CountryCoefficient - коэффициент зависящий от страны посещения,
нужна таблица где стране соответствует коэффициент,
который больше, если ситуация в стране сложнее

DayCountCoefficient - коэффициент зависящий от длительности поездки.
Количество недель в течении которых длиться поездка будет прямопропорциональна коэффициенту.

NumberOfTripsAlreadyCancelledCoefficient - коэффициент зависящий от количества уже отменнённых поездок
0,5  0,6  0,8 например, при наличии 1, 2 или 3 отменнённых поездок

TypeOfTravelCoefficient - коэффициент зависящий от вида путешествия,
каждому типу в таблице будет соответствовать свой коэффициент

StatusOfDocumentsCoefficient - коэффициент зависящий от состояния документов на момент оформления страховки.
Можно ввести понятие уровня готовности в рамках компании, чем уровент готовности документов больше,
тем коэффициент ниже.

CancellationPolicyCoefficient - коэффициент зависящий от политики отмены/возврата бронирования.
Можно ввести понятие уровня строгости политики отмены/возврата бронирования в рамках компании,
чем уровент строгости политики больше, тем болше коэффициент.

  Для коэффициентов следующих факторов также введём уровни в рамках компании,
  чем риск отмены поездки по этому фактору выше, тем уровень больше.
  Более высокому уровню будет соответствовать больший коэффициент.
  Для соотношения уровней и коэффициентов создадим таблицу.

  LEVEL-0 -- 0
  LEVEL-1 -- 0,1
  LEVEL-2 -- 0,3
  LEVEL-3 -- 0,6
  LEVEL-4 -- 0,9

  Ещё одна таблица понадобиться для соотношения факторов с их весом

  HealthStatus - 0,6 (w1)
  WeatherConditions - 0,6 (w2)
  ActiveSports - 0,3 (w3)
  ReliabilityOfTravelAgent - 0,4 (w4)

  далее коэффициент соответствующий выбранному уровню каждого фактора (таблица 1)
  умножается на вес этого фактора (таблица 2)
  и находиться среднее арифметическое произведений

 -HealthStatusCoefficient - коэффициент зависящий от уровня состояние здоровья членов семьи
 -WeatherConditionsCoefficient - коэффициент зависящий от сложности погодных условий
 -ActiveSportsCoefficient - коэффициент зависящий от степени
 вовлечённости клиента в травмоопасный спорт до поездки
 -ReliabilityOfTravelAgentCoefficient - коэффициент зависящий от надёжности тур-агента, равен 0 если таковой отсутствует.
